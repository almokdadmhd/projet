<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/all.min.css" />
    <link rel="stylesheet" href="css/styles.css" />

    <title>Ajax</title>
  </head>
  <body>
    <br />
    <div class="container">
      <div class="row">
        <div class="col-md-8 images">
          <img src="images/1.jpg" id="maxi" alt="" /><br />

          <img src="images/1.jpg" alt="" />
          <p>descrip 1</p>
          <img src="images/2.jpg" alt="" />
          <p>descrip 2</p>
          <img src="images/3.jpg" alt="" />
          <p>descrip 3</p>
          <img src="images/4.jpg" alt="" />
          <p>descrip 4</p>
        </div>
        <div class="col-md-2">
          <p id="descrip"></p>
        </div>
      </div>
    </div>

    <button type="button" onclick="requete()" class="btn btn-primary">
      Primary
    </button>
    <div id="div1"><h2>Let jQuery AJAX Change This Text</h2></div>

    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/all.min.js"></script>

    <script>
          function requete() {
            let request = $.ajax({
              url: "https://jsonplaceholder.typicode.com/posts/"  ,
              method: "GET",
              dataType: "json",
              target="_blank",
            });

            request.done(function (callback) {
               

            request.fail(function (http_error) {
              //Code à jouer en cas d'éxécution en erreur du script du PHP

              let server_msg = http_error.responseText;
              let code = http_error.status;
              let code_label = http_error.statusText;
              alert("Erreur " + code + " (" + code_label + ") : " + server_msg);
            });

            request.always(function () {
              //Code à jouer après done OU fail dans tous les cas
            });



          }
    </script>
  </body>
</html>
